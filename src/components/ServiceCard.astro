---
export interface Props {
  title: string;
  description: string;
  price?: string;
  link?: string;
  iconType?: 'home' | 'office' | 'deep' | 'move' | 'construction' | 'window' | 'carpet' | 'eco' | 'emergency';
}

const { title, description, price, link = "#", iconType = 'home' } = Astro.props;

const getIcon = (type: string) => {
  const icons = {
    home: `<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>`,
    office: `<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>`,
    deep: `<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>`,
    move: `<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>`,
    construction: `<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"></path>`,
    window: `<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"></path>`,
    carpet: `<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 4V2a1 1 0 011-1h8a1 1 0 011 1v2m-9 0h10m-9 0a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V6a2 2 0 00-2-2M7 4h10"></path>`,
    eco: `<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>`,
    emergency: `<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>`
  };
  return icons[type] || icons.home;
};
---

<div class="service-card-pro hover-lift hover-glow transition-all duration-500 ease-out">
  <!-- Service Icon -->
  <div class="service-icon-pro transition-all duration-300 ease-out">
    <svg class="w-6 h-6 transition-transform duration-300 ease-out" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <Fragment set:html={getIcon(iconType)} />
    </svg>
  </div>

  <!-- Accent Bar -->
  <div class="accent-bar mb-4 transition-all duration-300 ease-out"></div>

  <!-- Content -->
  <h3 class="text-xl font-semibold text-slate-900 mb-3 transition-colors duration-300 ease-out group-hover:text-primary">
    {title}
  </h3>
  
  <p class="text-slate-600 mb-6 leading-relaxed transition-colors duration-300 ease-out">
    {description}
  </p>
  
  {price && (
    <div class="mb-6 p-3 bg-blue-50 rounded-lg border-l-4 border-blue-600 transition-all duration-300 ease-out">
      <div class="flex items-baseline space-x-2">
        <span class="text-2xl font-bold text-primary">{price}</span>
        <span class="text-sm text-slate-500">desde</span>
      </div>
    </div>
  )}
  
  <a 
    href={link} 
    class="inline-flex items-center space-x-2 text-primary font-semibold hover:text-primary-dark transition-all duration-300 ease-out group/link"
  >
    <span>Más información</span>
    <svg class="w-4 h-4 transform transition-transform duration-300 ease-out group-hover/link:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
    </svg>
  </a>
</div>